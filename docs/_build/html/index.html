<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>flux-python-api &mdash; flux-python-api 0.01 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.01',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="flux-python-api 0.01 documentation" href="#" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="#">flux-python-api 0.01 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="flux-python-api">
<h1><strong>flux-python-api</strong><a class="headerlink" href="#flux-python-api" title="Permalink to this headline">¶</a></h1>
<p>Contents: Documentation on installing and using <strong>flux-python-api</strong>.</p>
<div class="toctree-wrapper compound">
<ul class="simple">
</ul>
</div>
</div>
<div class="section" id="installation-and-setup">
<h1><strong>Installation and Setup</strong><a class="headerlink" href="#installation-and-setup" title="Permalink to this headline">¶</a></h1>
<p>Install Git, if need be:</p>
<div class="highlight-python"><div class="highlight"><pre>sudo apt-get install git
</pre></div>
</div>
<p>And download the package to your preferred installation directory:</p>
<div class="highlight-python"><div class="highlight"><pre>cd /where/my/repo/lives/
git clone git@github.com:arthur-e/flux-python-api.git
</pre></div>
</div>
<div class="section" id="installing-within-a-python-virtual-environment-recommended">
<h2>Installing within a Python Virtual Environment (recommended)<a class="headerlink" href="#installing-within-a-python-virtual-environment-recommended" title="Permalink to this headline">¶</a></h2>
<p>If you do not already have <strong>virtuelenv</strong> installed, see <a class="reference external" href="http://www.virtualenv.org/en/latest/virtualenv.html#installation">full installation instructions</a>.</p>
<p>Briefly, using <a class="reference external" href="http://www.pip-installer.org/en/latest/">pip</a>:</p>
<div class="highlight-python"><div class="highlight"><pre>[sudo] pip install virtualenv
</pre></div>
</div>
<p>Then set up your <strong>virtualenv</strong>, e.g.:</p>
<div class="highlight-python"><div class="highlight"><pre>cd /where/my/virtualenvs/live/
virtualenv my_new_virtualenv

# ensure the virtualenv is accessible to non-root users
sudo chmod -R 775 my_new_virtualenv
</pre></div>
</div>
<p>And activate:</p>
<div class="highlight-python"><div class="highlight"><pre>source my_new_virtualenv/bin/activate
</pre></div>
</div>
<p>While your shell is activated, run <strong>setup.py</strong> (do <strong>NOT</strong> run as <strong>sudo</strong>):</p>
<div class="highlight-python"><div class="highlight"><pre>cd /where/my/repo/lives/flux-python-api
python setup.py install
</pre></div>
</div>
<p>Finally, deactivate the virtual environment:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">deactivate</span>
</pre></div>
</div>
<p>All done!</p>
</div>
<div class="section" id="installing-without-a-python-virtual-environment">
<h2>Installing without a Python Virtual Environment<a class="headerlink" href="#installing-without-a-python-virtual-environment" title="Permalink to this headline">¶</a></h2>
<p>If not using a python virtual environment, simply run <strong>setup.py</strong></p>
<div class="highlight-python"><div class="highlight"><pre>cd /where/my/repo/lives/flux-python-api
sudo python setup.py install
</pre></div>
</div>
</div>
</div>
<div class="section" id="loading-data">
<h1><strong>Loading data</strong><a class="headerlink" href="#loading-data" title="Permalink to this headline">¶</a></h1>
<p>Use the <strong>manage.py load</strong> utility to load flux data from files that are in Matlab (<em>*.mat</em>) or HDF5 (<em>*.h5</em> or <em>*.mat</em>) format. A description of the required configuration file and examples are provided in the next sections.</p>
<p>Loading with <strong>manage.py load</strong>:</p>
<div class="highlight-python"><div class="highlight"><pre>Usage:
    manage.py load -p &lt;filepath&gt; -m &lt;model&gt; -n &lt;collection_name&gt; [OPTIONAL ARGS]

Required arguments:

    -p, --path               Directory path of input file in Matlab (*.mat)
                             or HDF5 (*.h5 or *.mat) format

    -n, --collection_name    Collection name for the input file (MongoDB
                             identifier)

    -m, --model              fluxpy/models.py model associated with the
                             input dataset

Optional arguments:

    -c, --config_file        Specify location of json config file. By
                             default, seeks input file w/ .json extension.

    -o, --options            Use to override specifications in the config file.
                             Syntax: -o &quot;parameter1=value1;parameter2=value2;parameter3=value3&quot;
                             e.g.: -o &quot;title=MyData;gridres={&#39;units&#39;:&#39;degrees,&#39;x&#39;:1.0,&#39;y&#39;:1.0}&quot;
</pre></div>
</div>
<div class="section" id="the-configuration-file">
<h2>The configuration file<a class="headerlink" href="#the-configuration-file" title="Permalink to this headline">¶</a></h2>
<p>This utility requires that the input <em>*.h5</em> or <em>*.mat</em> file be accompanied by a JSON configuration file specifying required metadata parameters.
By default, the utility will look for a <em>*.json</em> file with the same name as the data file, but you can specify an alternate location when using <strong>load.py</strong> by using the <strong>-c</strong> option.</p>
<p>Configuration file parameter schema:</p>
<div class="highlight-python"><div class="highlight"><pre>&quot;columns&quot;: [String],        // Array of well-known column identifiers, in order
                            // e.g. &quot;x&quot;, &quot;y&quot;, &quot;value&quot;, &quot;error&quot;

&quot;gridres&quot;: {
    &quot;units&quot;: String,        // Grid cell units
    &quot;x&quot;: Number,            // Grid cell resolution in the x direction
    &quot;y&quot;: Number             // Grid cell resolution in the y direction
},

&quot;header&quot;: [String],         // Array of human-readable column headers, in order

&quot;parameters&quot;: [String],     // Array of well-known variable names e.g.
                            // &quot;values&quot;, &quot;value&quot;, &quot;errors&quot; or &quot;error&quot;

&quot;span&quot;: String,             // The length of time, as a Pandas &quot;freq&quot; code,
                            // that an observation spans

&quot;step&quot;: Number,             // The length of time, in seconds, between each
                            // observation to be imported

&quot;timestamp&quot;: String,        // An ISO 8601 timestamp for the first observation

&quot;title&quot;: String,            // Human-readable &quot;pretty&quot; name for the data set

&quot;units&quot;: Object,            // The measurement units, per parameter

&quot;var_name&quot;: String          // The name of the variable in the hierarchical
                            // file which stores the data
</pre></div>
</div>
<p>Contents of an example configuration file are shown here:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
    <span class="s">&quot;columns&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s">&quot;x&quot;</span><span class="p">,</span><span class="s">&quot;y&quot;</span><span class="p">],</span>
    <span class="s">&quot;gridres&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;units&quot;</span><span class="p">:</span> <span class="s">&quot;degrees&quot;</span><span class="p">,</span>
            <span class="s">&quot;x&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
            <span class="s">&quot;y&quot;</span><span class="p">:</span> <span class="mf">1.0</span>
        <span class="p">},</span>
    <span class="s">&quot;header&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s">&quot;lng&quot;</span><span class="p">,</span>
        <span class="s">&quot;lat&quot;</span>
    <span class="p">],</span>
    <span class="s">&quot;parameters&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s">&quot;values&quot;</span><span class="p">],</span>
    <span class="s">&quot;steps&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">10800</span><span class="p">],</span>
    <span class="s">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s">&quot;2012-12-22T03:00:00&quot;</span><span class="p">,</span>
    <span class="s">&quot;title&quot;</span><span class="p">:</span> <span class="s">&quot;Surface Carbon Flux&quot;</span><span class="p">,</span>
    <span class="s">&quot;units&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;x&quot;</span><span class="p">:</span> <span class="s">&quot;degrees&quot;</span><span class="p">,</span>
        <span class="s">&quot;y&quot;</span><span class="p">:</span> <span class="s">&quot;degrees&quot;</span><span class="p">,</span>
        <span class="s">&quot;values&quot;</span><span class="p">:</span> <span class="s">&quot;&amp;mu;mol/m&amp;sup2;&quot;</span>
    <span class="p">},</span>
    <span class="s">&quot;var_name&quot;</span><span class="p">:</span> <span class="s">&quot;casa_gfed_2004&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="manage-py-load-examples">
<h2><em>manage.py load</em> examples<a class="headerlink" href="#manage-py-load-examples" title="Permalink to this headline">¶</a></h2>
<p>Most basic example; assumes a configuration file exists at <em>./mydata/data_casa_gfed_3hrly.json</em>:</p>
<div class="highlight-python"><div class="highlight"><pre>$ python manage.py load -p ./data_casa_gfed.mat -m SpatioTemporalMatrix -n casa_gfed_2004
</pre></div>
</div>
<p>Specify an alternate config file to use:</p>
<div class="highlight-python"><div class="highlight"><pre>$ python manage.py load -p ./data_casa_gfed.mat -m SpatioTemporalMatrix -n casa_gfed_2004 -c ./config/casa_gfed.json
</pre></div>
</div>
<p>In the following example, the loader will look for a config file at ./data_casa_gfed.json and overwrite the <em>timestamp</em> and <em>var_name</em> parameters in that file with those provided as command line args:</p>
<div class="highlight-python"><div class="highlight"><pre>$ python manage.py load -p ./data_casa_gfed.mat -m SpatioTemporalMatrix -n casa_gfed_2004 -o &quot;timestamp=2003-12-22T03:00:00;var_name=casa_gfed_2004&quot;
</pre></div>
</div>
</div>
</div>
<div class="section" id="removing-data">
<h1><strong>Removing data</strong><a class="headerlink" href="#removing-data" title="Permalink to this headline">¶</a></h1>
<p>Use the <strong>manage.py remove</strong> utility to remove data collections from the database.</p>
<div class="highlight-python"><div class="highlight"><pre>$ manage.py remove -n &lt;collection_name&gt;

Required argument:
    -n, --collection_name    Collection name to be removed (MongoDB identifier)
</pre></div>
</div>
<div class="section" id="manage-py-remove-example">
<h2><em>manage.py remove</em> example<a class="headerlink" href="#manage-py-remove-example" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><div class="highlight"><pre>$ python manage.py remove -n casa_gfed_2004
</pre></div>
</div>
</div>
</div>
<div class="section" id="renaming-collections">
<h1><strong>Renaming collections</strong><a class="headerlink" href="#renaming-collections" title="Permalink to this headline">¶</a></h1>
<p>Use the <strong>manage.py rename</strong> utility to rename data collections in the database.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">It is important to use this utility for renaming rather than manually renaming collections by interfacing directly with MongoDB because several metadata tables require corresponding updates.</p>
</div>
<div class="highlight-python"><div class="highlight"><pre>$ manage.py rename -n &lt;collection_name&gt; -r &lt;new_name&gt;

Required arguments:
    -n, --collection_name    Collection name to be removed (MongoDB identifier)
    -r, --new_name           New name for the collection
</pre></div>
</div>
<div class="section" id="manage-py-rename-example">
<h2><em>manage.py rename</em> example<a class="headerlink" href="#manage-py-rename-example" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><div class="highlight"><pre>$ python manage.py rename -n casa_gfed_2004 -r casa_2004
</pre></div>
</div>
</div>
</div>
<div class="section" id="database-diagnostics">
<h1><strong>Database diagnostics</strong><a class="headerlink" href="#database-diagnostics" title="Permalink to this headline">¶</a></h1>
<p>Use the <strong>manage.py db</strong> utility to get diagnostic information on database contents:</p>
<div class="highlight-python"><div class="highlight"><pre>$ manage.py db [OPTIONAL ARGUMENTS]

Requires one of the following flags:

    -l, --list_ids           Lists collection names in the database.

         Optional args with -l flag:
             collections :   lists collections
             metadata:       lists the collections w/ metadata entries
             coord_index:    lists the collections w/ coord_index entries

    -n, --collection_name    Collection name for which to shows metadata

    -a, --audit              No argument required. Performs audit of the
                             database, reporting any collections that are
                             missing corresponding metadata/coord_index
                             entries and any stale metadata/coord_index
                             entries without corresponding collections

Optional argument:

    -x, --include_counts     Include count of records within each listed
                             collection. Valid only with a corresponding
                             &quot;-l collections&quot; flag; ignored otherwise
</pre></div>
</div>
<div class="section" id="manage-py-db-examples">
<h2><em>manage.py db</em> examples<a class="headerlink" href="#manage-py-db-examples" title="Permalink to this headline">¶</a></h2>
<p>List all collections and their number of records:</p>
<div class="highlight-python"><div class="highlight"><pre>$ python manage.py db -l collections -x
</pre></div>
</div>
<p>List all the collections with metadata entries:</p>
<div class="highlight-python"><div class="highlight"><pre>$ python manage.py db -l metadata
</pre></div>
</div>
<p>Show metadata for the collection with id &#8220;casa_gfed_2004&#8221;:</p>
<div class="highlight-python"><div class="highlight"><pre>$ python manage.py db -n casa_gfed_2004
</pre></div>
</div>
<p>Audit the database:</p>
<div class="highlight-python"><div class="highlight"><pre>$ python manage.py db -a
</pre></div>
</div>
</div>
</div>
<div class="section" id="module-documentation">
<h1><strong>Module documentation</strong><a class="headerlink" href="#module-documentation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-fluxpy.models">
<span id="fluxpy-models"></span><h2>fluxpy.models<a class="headerlink" href="#module-fluxpy.models" title="Permalink to this headline">¶</a></h2>
<p>Data models for various science model outputs, including models that map from
flat files and hierarchical files (e.g. HDF5) to Python pandas Data Frames.</p>
<dl class="class">
<dt id="fluxpy.models.CovarianceMatrix">
<em class="property">class </em><tt class="descclassname">fluxpy.models.</tt><tt class="descname">CovarianceMatrix</tt><big>(</big><em>path</em>, <em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/fluxpy/models.html#CovarianceMatrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fluxpy.models.CovarianceMatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#fluxpy.models.TransformationInterface" title="fluxpy.models.TransformationInterface"><tt class="xref py py-class docutils literal"><span class="pre">fluxpy.models.TransformationInterface</span></tt></a></p>
<p>Represents a covariance matrix from aggregate covariances; assumes monthly
aggregation (though this can be specified otherwise).</p>
<dl class="method">
<dt id="fluxpy.models.CovarianceMatrix.extract">
<tt class="descname">extract</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/fluxpy/models.html#CovarianceMatrix.extract"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fluxpy.models.CovarianceMatrix.extract" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a DataFrame properly encapsulating the associated file data</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="fluxpy.models.KrigedXCO2Matrix">
<em class="property">class </em><tt class="descclassname">fluxpy.models.</tt><tt class="descname">KrigedXCO2Matrix</tt><big>(</big><em>path</em>, <em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/fluxpy/models.html#KrigedXCO2Matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fluxpy.models.KrigedXCO2Matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#fluxpy.models.TransformationInterface" title="fluxpy.models.TransformationInterface"><tt class="xref py py-class docutils literal"><span class="pre">fluxpy.models.TransformationInterface</span></tt></a></p>
<p>Understands Kriged XCO2 data as formatted&#8211;Typically 6-day spans of XCO2
concentrations (ppm) at daily steps on a latitude-longitude grid.
Matrix dimensions: 14,210 (model cells) x 9 (attributes).
Columns: Longitude, latitude, XCO2 concentration (ppm), retrieval error (ppm)</p>
<dl class="method">
<dt id="fluxpy.models.KrigedXCO2Matrix.extract">
<tt class="descname">extract</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/fluxpy/models.html#KrigedXCO2Matrix.extract"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fluxpy.models.KrigedXCO2Matrix.extract" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a DataFrame properly encapsulating the associated file data</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="fluxpy.models.SpatioTemporalMatrix">
<em class="property">class </em><tt class="descclassname">fluxpy.models.</tt><tt class="descname">SpatioTemporalMatrix</tt><big>(</big><em>path</em>, <em>config_file=None</em>, <em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/fluxpy/models.html#SpatioTemporalMatrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fluxpy.models.SpatioTemporalMatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#fluxpy.models.TransformationInterface" title="fluxpy.models.TransformationInterface"><tt class="xref py py-class docutils literal"><span class="pre">fluxpy.models.TransformationInterface</span></tt></a></p>
<p>A generic matrix with two spatial dimensions in the first two columns and
an arbitrary number of columns following each representing one step in time.</p>
<dl class="method">
<dt id="fluxpy.models.SpatioTemporalMatrix.extract">
<tt class="descname">extract</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/fluxpy/models.html#SpatioTemporalMatrix.extract"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fluxpy.models.SpatioTemporalMatrix.extract" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a DataFrame properly encapsulating the associated file data</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="fluxpy.models.TransformationInterface">
<em class="property">class </em><tt class="descclassname">fluxpy.models.</tt><tt class="descname">TransformationInterface</tt><big>(</big><em>path</em>, <em>config_file=None</em>, <em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/fluxpy/models.html#TransformationInterface"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fluxpy.models.TransformationInterface" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>An abstract persistence transformation interface (modified from
Andy Bulka, 2001), where extract() and dump() methods are defined in
subclasses. The extract() method may take unique arguments as optional keyword
arguments (they must default to None). The dump() method must take only one
argument which is the interchange datum (a dictionary). A configuration
file may be provided as a <em>.json</em> file with the same name as the data file.</p>
</dd></dl>

<dl class="class">
<dt id="fluxpy.models.XCO2Matrix">
<em class="property">class </em><tt class="descclassname">fluxpy.models.</tt><tt class="descname">XCO2Matrix</tt><big>(</big><em>path</em>, <em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/fluxpy/models.html#XCO2Matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fluxpy.models.XCO2Matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#fluxpy.models.TransformationInterface" title="fluxpy.models.TransformationInterface"><tt class="xref py py-class docutils literal"><span class="pre">fluxpy.models.TransformationInterface</span></tt></a></p>
<p>Understands XCO2 data as formatted&#8211;Typically 6-day spans of XCO2
concentrations (ppm).
Matrix dimensions: 1,311 (observations) x 6 (attributes).
Columns: Longitude, latitude, XCO2 concentration (ppm), day of the year,
year, retrieval error (ppm).</p>
<dl class="method">
<dt id="fluxpy.models.XCO2Matrix.extract">
<tt class="descname">extract</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/fluxpy/models.html#XCO2Matrix.extract"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fluxpy.models.XCO2Matrix.extract" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a DataFrame properly encapsulating the associated file data</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-fluxpy.mediators">
<span id="fluxpy-mediators"></span><h2>fluxpy.mediators<a class="headerlink" href="#module-fluxpy.mediators" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="fluxpy.mediators.Grid3DMediator">
<em class="property">class </em><tt class="descclassname">fluxpy.mediators.</tt><tt class="descname">Grid3DMediator</tt><big>(</big><em>client=None</em>, <em>db_name='fluxvis'</em><big>)</big><a class="reference internal" href="_modules/fluxpy/mediators.html#Grid3DMediator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fluxpy.mediators.Grid3DMediator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#fluxpy.mediators.Mediator" title="fluxpy.mediators.Mediator"><tt class="xref py py-class docutils literal"><span class="pre">fluxpy.mediators.Mediator</span></tt></a></p>
<p>Mediator that understands single-valued, spatial data on a structured,
longitude-latitude grid; two spatial dimensions, one value dimension (3D).
Geometry expected as grid centroids (e.g. centroids of 1-degree grid cells).
Additional fields beyond the &#8220;values&#8221; field may be included; currently
supported is the additional &#8220;errors&#8221; field.</p>
</dd></dl>

<dl class="class">
<dt id="fluxpy.mediators.Grid4DMediator">
<em class="property">class </em><tt class="descclassname">fluxpy.mediators.</tt><tt class="descname">Grid4DMediator</tt><big>(</big><em>client=None</em>, <em>db_name='fluxvis'</em><big>)</big><a class="reference internal" href="_modules/fluxpy/mediators.html#Grid4DMediator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fluxpy.mediators.Grid4DMediator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#fluxpy.mediators.Mediator" title="fluxpy.mediators.Mediator"><tt class="xref py py-class docutils literal"><span class="pre">fluxpy.mediators.Mediator</span></tt></a></p>
<p>Mediator that understands spatial data on a structured, longitude-latitude
grid that vary in time; two spatial dimensions and an aribtrary number of
time steps (frames). Geometry expected as grid centroids (e.g. centroids
of 1-degree grid cells).</p>
</dd></dl>

<dl class="class">
<dt id="fluxpy.mediators.Mediator">
<em class="property">class </em><tt class="descclassname">fluxpy.mediators.</tt><tt class="descname">Mediator</tt><big>(</big><em>client=None</em>, <em>db_name='fluxvis'</em><big>)</big><a class="reference internal" href="_modules/fluxpy/mediators.html#Mediator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fluxpy.mediators.Mediator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>A generic model for transforming data between foreign formats and the
persistence layer of choice (MongoDB in this application). Mediator calls
the extract() method on subclasses of the TransformationInterface (those
classes that interpret foreign formats).</p>
<dl class="method">
<dt id="fluxpy.mediators.Mediator.generate_metadata">
<tt class="descname">generate_metadata</tt><big>(</big><em>collection_name</em>, <em>instance</em>, <em>force=False</em>, <em>verbose=False</em><big>)</big><a class="reference internal" href="_modules/fluxpy/mediators.html#Mediator.generate_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fluxpy.mediators.Mediator.generate_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an entry in the metadata collection for this instance of data;
updates the summary statistics of that entry if it already exists.</p>
</dd></dl>

<dl class="method">
<dt id="fluxpy.mediators.Mediator.save">
<tt class="descname">save</tt><big>(</big><em>collection_name</em>, <em>instance</em><big>)</big><a class="reference internal" href="_modules/fluxpy/mediators.html#Mediator.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fluxpy.mediators.Mediator.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms contents of Data Frame into JSON representation for MongoDB</p>
</dd></dl>

<dl class="method">
<dt id="fluxpy.mediators.Mediator.summarize">
<tt class="descname">summarize</tt><big>(</big><em>collection_name</em>, <em>query={}</em><big>)</big><a class="reference internal" href="_modules/fluxpy/mediators.html#Mediator.summarize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fluxpy.mediators.Mediator.summarize" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates summary statistics by parameter over the data in a collection.
This was designed and tested for the &#8220;3D&#8221; case i.e. spatial data in a
tabular form and NOT for the &#8220;4D&#8221; case i.e. spatiotemporal data in a
matrix form.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="fluxpy.mediators.Unstructured3DMediator">
<em class="property">class </em><tt class="descclassname">fluxpy.mediators.</tt><tt class="descname">Unstructured3DMediator</tt><big>(</big><em>client=None</em>, <em>db_name='fluxvis'</em><big>)</big><a class="reference internal" href="_modules/fluxpy/mediators.html#Unstructured3DMediator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fluxpy.mediators.Unstructured3DMediator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#fluxpy.mediators.Mediator" title="fluxpy.mediators.Mediator"><tt class="xref py py-class docutils literal"><span class="pre">fluxpy.mediators.Mediator</span></tt></a></p>
<p>Mediator that understands single-valued, spatial data with arbitrary
positions given as longitude-latitude pairs; two spatial dimensions, one
value dimension (3D).</p>
</dd></dl>

</div>
<div class="section" id="module-fluxpy.outputs">
<span id="fluxpy-outputs"></span><h2>fluxpy.outputs<a class="headerlink" href="#module-fluxpy.outputs" title="Permalink to this headline">¶</a></h2>
<p>For generating specific, derived outputs from spatio-temporal data. If a class
here has the render() method on one of its instances, the method is expected
to return a string or sequence of strings where each string is a file system 
path (either a directory or a file).</p>
<dl class="class">
<dt id="fluxpy.outputs.AbstractGridView">
<em class="property">class </em><tt class="descclassname">fluxpy.outputs.</tt><tt class="descname">AbstractGridView</tt><big>(</big><em>mediator</em>, <em>model</em>, <em>collection_name</em><big>)</big><a class="reference internal" href="_modules/fluxpy/outputs.html#AbstractGridView"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fluxpy.outputs.AbstractGridView" title="Permalink to this definition">¶</a></dt>
<dd><p>An abstract class of gridded outputs.</p>
</dd></dl>

<dl class="class">
<dt id="fluxpy.outputs.AbstractScoreView">
<em class="property">class </em><tt class="descclassname">fluxpy.outputs.</tt><tt class="descname">AbstractScoreView</tt><big>(</big><em>mediator</em>, <em>model</em>, <em>collection_name</em><big>)</big><a class="reference internal" href="_modules/fluxpy/outputs.html#AbstractScoreView"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fluxpy.outputs.AbstractScoreView" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#fluxpy.outputs.AbstractGridView" title="fluxpy.outputs.AbstractGridView"><tt class="xref py py-class docutils literal"><span class="pre">fluxpy.outputs.AbstractGridView</span></tt></a></p>
<p>An abstract class of outputs based on standard scores (z scores).</p>
</dd></dl>

<dl class="class">
<dt id="fluxpy.outputs.KMZWrapper">
<em class="property">class </em><tt class="descclassname">fluxpy.outputs.</tt><tt class="descname">KMZWrapper</tt><big>(</big><em>output_path</em>, <em>kml_file</em><big>)</big><a class="reference internal" href="_modules/fluxpy/outputs.html#KMZWrapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fluxpy.outputs.KMZWrapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a Zipped KML; a ZIP archive with KML files and dependencies (e.g.
image overlays, icons) inside.</p>
</dd></dl>

<dl class="class">
<dt id="fluxpy.outputs.Legend">
<em class="property">class </em><tt class="descclassname">fluxpy.outputs.</tt><tt class="descname">Legend</tt><big>(</big><em>size</em>, <em>entries</em>, <em>path='.'</em>, <em>scale_name='legend'</em><big>)</big><a class="reference internal" href="_modules/fluxpy/outputs.html#Legend"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fluxpy.outputs.Legend" title="Permalink to this definition">¶</a></dt>
<dd><p>A legend for a classification scale based on colored parcels. The entries
are drawn as square cells in a vertical list.</p>
<dl class="method">
<dt id="fluxpy.outputs.Legend.render">
<tt class="descname">render</tt><big>(</big><em>patch_size=0.5</em>, <em>alpha=1.0</em>, <em>x_offset=100</em><big>)</big><a class="reference internal" href="_modules/fluxpy/outputs.html#Legend.render"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fluxpy.outputs.Legend.render" title="Permalink to this definition">¶</a></dt>
<dd><p>Draws the legend graphic and saves it to a file.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="fluxpy.outputs.ScoredKMLView">
<em class="property">class </em><tt class="descclassname">fluxpy.outputs.</tt><tt class="descname">ScoredKMLView</tt><big>(</big><em>mediator</em>, <em>model</em>, <em>collection_name</em><big>)</big><a class="reference internal" href="_modules/fluxpy/outputs.html#ScoredKMLView"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fluxpy.outputs.ScoredKMLView" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#fluxpy.outputs.AbstractScoreView" title="fluxpy.outputs.AbstractScoreView"><tt class="xref py py-class docutils literal"><span class="pre">fluxpy.outputs.AbstractScoreView</span></tt></a></p>
<p>Writes out KML files from spatio-temporal data provided by a Mediator
where the values represented in the KML are standard scores (z scores).</p>
<dl class="method">
<dt id="fluxpy.outputs.ScoredKMLView.render">
<tt class="descname">render</tt><big>(</big><em>query</em>, <em>output_path</em>, <em>keys=('values'</em>, <em>'errors')</em>, <em>color='dBrBG11'</em>, <em>vscale=100000</em><big>)</big><a class="reference internal" href="_modules/fluxpy/outputs.html#ScoredKMLView.render"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fluxpy.outputs.ScoredKMLView.render" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a KML view of gridded, 3D data with standard scores (z scores)
using up to two fields, given by the dictionary keys, in the connected 
data e.g. the first field will be used to encode color and the second
field to encode the KML Polygon extrusion height. Assumes that each grid
cell has a single longitude-latitude pair describing its centroid.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="fluxpy.outputs.StaticKMLView">
<em class="property">class </em><tt class="descclassname">fluxpy.outputs.</tt><tt class="descname">StaticKMLView</tt><big>(</big><em>mediator</em>, <em>model</em>, <em>collection_name</em><big>)</big><a class="reference internal" href="_modules/fluxpy/outputs.html#StaticKMLView"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fluxpy.outputs.StaticKMLView" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#fluxpy.outputs.AbstractGridView" title="fluxpy.outputs.AbstractGridView"><tt class="xref py py-class docutils literal"><span class="pre">fluxpy.outputs.AbstractGridView</span></tt></a></p>
<p>Writes out KML files from spatio-temporal data provided by a Mediator.</p>
<dl class="method">
<dt id="fluxpy.outputs.StaticKMLView.render">
<tt class="descname">render</tt><big>(</big><em>query</em>, <em>output_path</em>, <em>keys=('values'</em>, <em>'errors')</em>, <em>bins=3</em>, <em>color='BrBG11'</em>, <em>vscale=1000</em>, <em>vpow=2</em>, <em>cutoffs=(None</em>, <em>1.2)</em><big>)</big><a class="reference internal" href="_modules/fluxpy/outputs.html#StaticKMLView.render"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fluxpy.outputs.StaticKMLView.render" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a KML view of gridded, 3D data using up to two fields,
given by the dictionary keys, in the connected data e.g. the first
field will be used to encode color and the second field to encode the
KML Polygon extrusion height. Assumes that each grid cell has a
single longitude-latitude pair describing its centroid. The keys
argument is a sequence of strings representing field names to use for
these symbols, in order: the polygon style, the altitude.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-fluxpy.utils">
<span id="fluxpy-utils"></span><h2>fluxpy.utils<a class="headerlink" href="#module-fluxpy.utils" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#"><strong>flux-python-api</strong></a></li>
<li><a class="reference internal" href="#installation-and-setup"><strong>Installation and Setup</strong></a><ul>
<li><a class="reference internal" href="#installing-within-a-python-virtual-environment-recommended">Installing within a Python Virtual Environment (recommended)</a></li>
<li><a class="reference internal" href="#installing-without-a-python-virtual-environment">Installing without a Python Virtual Environment</a></li>
</ul>
</li>
<li><a class="reference internal" href="#loading-data"><strong>Loading data</strong></a><ul>
<li><a class="reference internal" href="#the-configuration-file">The configuration file</a></li>
<li><a class="reference internal" href="#manage-py-load-examples"><em>manage.py load</em> examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#removing-data"><strong>Removing data</strong></a><ul>
<li><a class="reference internal" href="#manage-py-remove-example"><em>manage.py remove</em> example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#renaming-collections"><strong>Renaming collections</strong></a><ul>
<li><a class="reference internal" href="#manage-py-rename-example"><em>manage.py rename</em> example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#database-diagnostics"><strong>Database diagnostics</strong></a><ul>
<li><a class="reference internal" href="#manage-py-db-examples"><em>manage.py db</em> examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-documentation"><strong>Module documentation</strong></a><ul>
<li><a class="reference internal" href="#module-fluxpy.models">fluxpy.models</a></li>
<li><a class="reference internal" href="#module-fluxpy.mediators">fluxpy.mediators</a></li>
<li><a class="reference internal" href="#module-fluxpy.outputs">fluxpy.outputs</a></li>
<li><a class="reference internal" href="#module-fluxpy.utils">fluxpy.utils</a></li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/index.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="#">flux-python-api 0.01 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, K. Arthur Endsley.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>